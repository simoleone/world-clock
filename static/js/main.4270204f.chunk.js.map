{"version":3,"sources":["DaylightMap.jsx","App.js","reportWebVitals.js","index.js"],"names":["world","topojson","topology","objects","units","DaylightMap","now","useState","size","setSize","sun","day","Date","setUTCHours","t","solar","sunPosition","night","geoCircle","radius","center","antipode","useLayoutEffect","updateSize","window","innerWidth","Math","floor","innerHeight","addEventListener","removeEventListener","width","height","data","features","fitSize","mercator","Graticule","graticule","g","path","stroke","map","i","feature","d","strokeWidth","fill","LOCATIONS","tz","city","country","Clock","styled","_Clock","ClockWrapper","div","TimeZoneText","span","CurrentTimeText","CountryFlag","ReactCountryFlag","ZonedClock","nowZoned","clone","value","format","renderSecondHand","svg","countryCode","FullScreenNotice","App","moment","setNow","useEffect","interval","setInterval","prevNow","newNow","startOf","isSame","clearInterval","useEventListener","e","code","metaKey","preventDefault","document","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","navigationUI","Container","fluid","Row","toDate","style","marginTop","location","Col","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4270204f.chunk.js","sourcesContent":["import { Graticule } from \"@visx/geo\";\nimport NaturalEarth from \"@visx/geo/lib/projections/NaturalEarth\";\nimport { geoCircle } from \"d3-geo\";\nimport { useLayoutEffect, useState } from \"react\";\nimport * as solar from \"solar-calculator\";\nimport * as topojson from \"topojson-client\";\nimport topology from \"./world-topo.json\";\n\nconst world = topojson.feature(topology, topology.objects.units);\n\nexport const background = \"#fff\";\n\nconst sunPosition = (now) => {\n  const day = new Date(+now).setUTCHours(0, 0, 0, 0);\n  const t = solar.century(now);\n  const longitude = ((day - now) / 864e5) * 360 - 180;\n  return [longitude - solar.equationOfTime(t) / 4, solar.declination(t)];\n};\n\nconst antipode = ([longitude, latitude]) => [longitude + 180, -latitude];\n\nexport function DaylightMap({ now }) {\n  const [size, setSize] = useState([0, 0]);\n  const sun = sunPosition(now);\n  const night = geoCircle().radius(90).center(antipode(sun))();\n\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, Math.floor(window.innerHeight / 1.5)]);\n    }\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  return (\n    <svg width={size[0]} height={size[1]}>\n      <NaturalEarth data={world.features} fitSize={[size, world]}>\n        {(mercator) => (\n          <g>\n            <Graticule\n              graticule={(g) => mercator.path(g) || \"\"}\n              stroke=\"rgba(255,255,255,0.1)\"\n            />\n            {mercator.features.map(({ feature, path }, i) => (\n              <path\n                key={`map-feature-${i}`}\n                d={path || \"\"}\n                stroke={background}\n                strokeWidth={0.5}\n              />\n            ))}\n            <path fill=\"rgba(255,0,0,0.2)\" d={mercator.path(night)} />\n          </g>\n        )}\n      </NaturalEarth>\n    </svg>\n  );\n}\n","import useEventListener from \"@use-it/event-listener\";\nimport moment from \"moment-timezone/builds/moment-timezone-with-data\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useState } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport _Clock from \"react-clock\";\nimport \"react-clock/dist/Clock.css\";\nimport ReactCountryFlag from \"react-country-flag\";\nimport styled from \"styled-components\";\nimport { DaylightMap } from \"./DaylightMap\";\n\nconst LOCATIONS = [\n  {\n    tz: \"America/Los_Angeles\",\n    city: \"San Francisco\",\n    country: \"US\",\n  },\n  {\n    tz: \"America/New_York\",\n    city: \"New York\",\n    country: \"US\",\n  },\n  {\n    tz: \"UTC\",\n    city: \"UTC\",\n    country: \"_\",\n  },\n  {\n    tz: \"Europe/London\",\n    city: \"London\",\n    country: \"GB\",\n  },\n  {\n    tz: \"Europe/Helsinki\",\n    city: \"Helsinki\",\n    country: \"FI\",\n  },\n];\n\nconst Clock = styled(_Clock)`\n  & {\n    height: unset !important;\n    width: 20vh !important;\n    padding-top: 20vh;\n  }\n  & .react-clock__face {\n    border-color: white;\n  }\n  & .react-clock__hand__body {\n    background-color: white;\n  }\n  & .react-clock__mark__body {\n    background-color: white;\n  }\n`;\n\nconst ClockWrapper = styled.div`\n  text-align: center;\n  position: relative;\n`;\n\nconst TimeZoneText = styled.span`\n  color: white;\n  display: block;\n`;\n\nconst CurrentTimeText = styled.span`\n  color: white;\n  font-size: 1.25em;\n  display: block;\n`;\n\nconst CountryFlag = styled(ReactCountryFlag)`\n  &[style] {\n    height: 1em !important;\n    width: ${(4 / 3) * 1}em !important;\n  }\n  position: absolute;\n  bottom: 5em;\n\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst ZonedClock = ({ now, tz, city, country }) => {\n  const nowZoned = now.clone().tz(tz);\n\n  return (\n    <ClockWrapper>\n      <Clock\n        value={nowZoned.format(\"HH:mm:ss\")}\n        size={200}\n        renderSecondHand={false}\n      />\n      <CountryFlag svg countryCode={country} />\n      <TimeZoneText>{city}</TimeZoneText>\n      <CurrentTimeText>{nowZoned.format(\"HH:mm\")}</CurrentTimeText>\n    </ClockWrapper>\n  );\n};\n\nZonedClock.propTypes = {\n  now: PropTypes.instanceOf(moment).isRequired,\n  tz: PropTypes.string.isRequired,\n};\n\nconst FullScreenNotice = styled.span`\n  position: fixed;\n  top: 5px;\n  left: 5px;\n  color: white;\n  font-size: 0.5em;\n\n  html:fullscreen & {\n    display: none;\n  }\n`;\n\nfunction App() {\n  const [now, setNow] = useState(moment());\n\n  useEffect(() => {\n    const interval = setInterval(\n      () =>\n        setNow((prevNow) => {\n          const newNow = moment().startOf(\"minute\");\n          if (newNow.isSame(prevNow)) {\n            return prevNow;\n          } else {\n            return newNow;\n          }\n        }),\n      1000\n    );\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  useEventListener(\"keydown\", (e) => {\n    if (e.code === \"Enter\" && e.metaKey) {\n      e.preventDefault();\n      if (!document.fullscreenElement) {\n        document.documentElement.requestFullscreen({ navigationUI: \"hide\" });\n      } else {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        }\n      }\n    }\n  });\n\n  return (\n    <div>\n      <FullScreenNotice>Go full screen! (Command + Enter)</FullScreenNotice>\n      <Container fluid>\n        <Row>\n          <DaylightMap now={now.toDate()} />\n        </Row>\n\n        <Row style={{ marginTop: \"2em\" }}>\n          {LOCATIONS.map((location) => (\n            <Col className=\"d-flex justify-content-center\" key={location.tz}>\n              <ZonedClock now={now} {...location} />\n            </Col>\n          ))}\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}